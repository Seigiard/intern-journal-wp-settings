@import '_variables.scss';

$container-width: 1080px;
$container-aside-width-px: 225px;
$container-column-width-px: 755px;
$container-padding-px: 40px;

@function inPercent($px, $width) {
  @return (100 * $px / $width) * 1%;
}

@mixin column() {
  @media only screen and (min-width: $width-breakpoint) {
    width: $container-column-width;
  }
  padding-left: $container-padding;
  padding-right: $container-padding;
}

$container-column-width: inPercent($container-column-width-px, $container-width);
$container-padding: inPercent($container-padding-px, $container-width);

.container {
  max-width: $container-width;
  margin: 0 auto;
}
.column {
  @include column();
  position: relative;

  img.border {
    border: 1px solid #d7d5d7;
  }
  img.browser {
    border: 1px solid #d7d5d7;
    border-radius: 4px 4px 3px 3px;
    padding-top: $base-font-size-rem*1.5;
    background-image: url(../img/bg-browser-dots.png),
      linear-gradient(to bottom, #f7f6f7 0%,#d7d5d7 $base-font-size-rem*1.45, #d7d5d7 100%);
    background-size: rem(51px) rem(12px), cover;
    background-repeat: no-repeat;
    background-position: rem(11px) rem(11px), 0 0;
    box-shadow: 
      -2px 0px 2px rgba(0,0,0,.03),
      2px 0px 2px rgba(0,0,0,.03),
      0px 2px 2px rgba(0,0,0,.03),
      0px 5px 5px rgba(0,0,0,.03),
      0px 10px 10px rgba(0,0,0,.03);
    &:before {
      content: '123';
    }
  }
  figure.full {
    margin-left: -3.95%;
    margin-right: -3.95%;
    figcaption {
      padding-left: 5.4%;
      padding-right: 5.4%;
    }
  }

  aside {
    opacity: 0;
  }

  aside.aside__positioned {
    animation: asideShow ease-in-out .5s;
    animation-iteration-count: 1;
    opacity: 1;
  }

  @media only screen and (min-width: $width-breakpoint) {
    .full {
      margin-right: -48.1%;
    }
    blockquote {
      margin-right: -48.1%;
    }
    figure.full {
      margin-left: -5.9%;
      margin-right: -54%;
      figcaption {
        @include column();
      }
    }
    aside {
      position: absolute;
      width: 37.9%;
      left: 100%;
      padding-top: rem(6px);
      padding-left: $base-font-size-rem;
    }
  }
}
@keyframes asideShow{
  0% {
    opacity:0;
  }
  100% {
    opacity:1;
  }
}